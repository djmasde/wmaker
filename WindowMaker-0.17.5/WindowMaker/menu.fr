/*
 * définition du menu de fond pour WindowMaker
 * 
 * La syntaxe est:
 *
 * <Titre> <Commande> <Paramètres>
 *
 * <Titre> est une chaine de charactères qui représente un titre. Il doit
 *         être entre guillemets si il y a des espaces
 *
 * <Commande> une des commandes valides:
 *
 *	MENU			    Commence une définition de (sous)menu
 *
 *	OPEN_MENU		    Ouvre un menu depuis un fichier, un "pipe"
 *				    ou le contenu d'un ou plusieurs répertoires
 *				    et eventuellement peut etre précédé d'une
 *				    commande.
 *
 *	END			    Fin d'une définition de (sous)menu
 *
 *	WORKSPACE_MENU		    Ajoute un sous menu pour les opérations
 *				    sur l'espace de travail
 *
 *	EXEC			    Execute un programme externe
 *
 *	EXIT			    Quitte le "window manager"
 *
 *	RESTART	[<window manager>]  Redémarre WindowMaker ou démarre un
 *				    autre "window manager"
 *
 *	REFRESH			    Retrace l'écran
 *
 *	ARRANGE_ICONS		    Arrange les icônes sur l'espace de
 *				    travail
 *
 *	SHUTDOWN		    Tue tout les clients ( et termine la
 *				    session X Window)
 *
 *	SHOW_ALL		    Montre toutes les fenêtres sur l'espace
 *				    de travail
 *
 *	HIDE_OTHERS		    Cache toutes les fenêtres sur l'espace
 *				    de travail qui sont en arrière plan
 *
 *	SAVE_SESSION		    Sauve la l'état courant du bureau, cela
 *				    inclus toute les applications en marche,
 *				    tout leur indices (geometrie, position
 *				    sur l'écran, l'espace de travail sur
 *				    lequel elle sont, si elles ont ete lancées
 *				    par le "dock" ou le "clip", si elles
 *				    etaient minimisées, ombrées ou cachées).
 *				    De plus, l'espace de travail courant
 *				    sera aussi sauvé. Tout sera remis dans
 *				    cet état a chaque démarrage de
 *				    WindowMaker jusqu'au prochain usage de
 *				    SAVE_SESSION ou CLEAR_SESSION. Si
 *				    "SaveSessionOnExit" est égal à "Yes"
 *				    dans le fichier de domaine de
 *				    WindowMaker, alors la sauvegarde est
 *				    automatiquement faite a chaque fin de
 *				    session, abandonnant toute SAVE_SESSION
 *				    ou CLEAR_SESSION antérieure (Voir plus
 *				    bas).
 *
 *	CLEAR_SESSION		    Efface la sauvegarde de toute session
 *				    antérieure. Ceci n'aura aucun effet si
 *				    "SaveSessionOnExit" est égal à "Yes".
 *
 * Syntaxe d'OPEN_MENU:
 *
 * 1. Utilisation d'un fichier de menu.
 * 	// Ouvre "fichier.menu" (celui-ci doit contenir un fichier de menu
 *	// valide) et l'insère à la position courante.
 *
 *   OPEN_MENU fichier.menu
 *
 * 2. Utilisation de "pipes".
 *	// Ouvre une commande et utilise sa sortie standard pour construire
 *	// un menu (la sortie standard de la commande doit être une
 *	// description de menu valide). L'espace entre '|' est optionel.
 *
 *   OPEN_MENU | commande
 *
 * 3. Utilisation de répertoires.
 *	// Ouvre un ou plusieurs répertoires et construit un menu avec tout
 *	// les sous répertoires et les fichiers éxécutables a l'intérieur et
 *	// les classe dans l'ordre alphabétique.
 *
 *   OPEN_MENU /un/répertoire [/un/autre/repértoire ...]
 *
 * 4. Utilisation de répertoires avec une commande.
 *	// Ouvre un ou plusieurs répertoires et construit un menu avec tout
 *	// les sous répertoires et les fichiers lisibles a l'intérieur et
 *	// les classe dans l'ordre alphabétique, précédant chacun d'eux
 *	// d'une commande.
 *
 *   OPEN_MENU /un/répertoire [/un/autre/répertoire ...] WITH commande -option
 *
 * <Parametre> est le programme a éxécuter.
 *
 * ** Options pour la ligne de commande après EXEC:
 *
 * %s		substituer avec la sélection courante
 * %a(message)	ouvre une boite de dialogue avec un message et fait la
 *		substitution avec ce que vous avez tapé
 * %w		substituer par la "XID" de la fenêtre en avant plan courante
 *
 * Vous pouvez outrepasser des charactères spéciaux (comme % et ") avec le
 * charactère \
 *
 * ex: xterm -T "\"Hello World\""
 *
 * Vous pouvez aussi utiliser des séquences "escape", comme \n
 *
 * Chaque déclaration de MENU doit avoir sa déclaration END à la fin.
 *
 * Exemple:
 *
 * "Test" MENU
 *	"XTerm" EXEC xterm
 *		// Crée un sous menu avec le contenu de /usr/openwin/bin
 *	"Applications XView" OPEN_MENU "/usr/openwin/bin"
 *		// Quelques applications X11 dans différents répertoires
 *	"Applications X11" OPEN_MENU /usr/X11/bin ~/bin/X11
 *		// Définir quelques images de fond
 *	"Fond d'écran" OPEN_MENU ~/images /usr/share/images WITH wmsetbg -u -t
 *		// Insère le fichier "style.menu" dans cette entrée
 *	"Style" OPEN_MENU style.menu
 * "Test" END
 */

#include "wmmacros"

"Applications" MENU
	"Informations" MENU
		"Info Panel..." INFO_PANEL
		"Legal" LEGAL_PANEL
		"Charge système" EXEC xosview || xload
		"Liste des processus" EXEC xterm -e top
		"Butineur d'aide" EXEC xman
	"Informations" END
	"Terminal X" EXEC xterm -sb
	"Rxvt" EXEC rxvt -bg black -fg white -fn fixed
	"Espaces de travail" WORKSPACE_MENU
	"Applications" MENU
		"Graphismes" MENU
			"Gimp" EXEC gimp >/dev/null
			"XV" EXEC xv
			"XPaint" EXEC xpaint
			"XFig" EXEC xfig
		"Graphismes" END
		"Xfm" EXEC xfm
		"OffiX Files" EXEC files
		"LyX" EXEC lyx
		"Netscape" EXEC netscape
		"Ghostview" EXEC ghostview %a(Entrez un fichier)
		"Acrobat" EXEC /usr/local/Acrobat3/bin/acroread %a(Entrez un fichier PDF)
		"TkDesk" EXEC tkdesk
	"Applications" END
	"Editeurs" MENU
		"XFte" EXEC xfte
		"XEmacs" EXEC xemacs || emacs
		"XJed" EXEC xjed
		"NEdit" EXEC nedit
		"Xedit" EXEC xedit
		"VI" EXEC xterm -e vi
	"Editeurs" END
	"Divers" MENU
		"Xmcd" EXEC xmcd 2> /dev/null
		"Xplaycd" EXEC xplaycd
		"Xmixer" EXEC xmixer
	"Divers" END
	"Utilitaires" MENU
		"Calculatrice" EXEC xcalc
		"Propriétés de la fenêtre" EXEC xprop | xmessage -center -title 'xprop' -file -
		"Sélecteur de polices" EXEC xfontsel
		"Emulateur de terminal" EXEC xminicom
		"Loupe" EXEC xmag
		"Carte des couleurs" EXEC xcmap
		"XKill" EXEC xkill
		"ASClock" EXEC asclock -shape
		"Sélections" EXEC xclipboard
	"Utilitaires" END
	
	"Sélection" MENU
		"Copier" EXEC echo '%s' | wxcopy
		"Envoyer à" EXEC xterm -name mail -T "Pine" -e pine %s
		"Naviguer" EXEC netscape %s
		"Rechercher dans le manuel" EXEC MANUAL_SEARCH(%s)
	"Sélection" END
	
	"Espace de travail" MENU
		"Cacher les autres fenêtres" HIDE_OTHERS
		"Montrer toutes les fenêtres" SHOW_ALL
		"Arranger les icônes" ARRANGE_ICONS
		"Retracer l'écran" REFRESH
		"Vérrouiller" EXEC xlock -allowroot -usefirst
		"Sauver la session" SAVE_SESSION
		"Effacer la session" CLEAR_SESSION
	"Espace de travail" END

	"Apparence" MENU
		"Thèmes" OPEN_MENU THEMES_DIR ~/GNUstep/Library/WindowMaker/Themes WITH setstyle
		"Styles" OPEN_MENU STYLES_DIR ~/GNUstep/Library/WindowMaker/Styles WITH setstyle
		"Jeu d'icônes" OPEN_MENU ICON_SETS_DIR ~/GNUstep/Library/WindowMaker/IconSets WITH seticons
		"Fond d'écran" MENU
			"Unifié" MENU
				"Noir" WS_BACK '(solid, black)'
				"Bleu" WS_BACK '(solid, "#505075")'
				"Indigo" WS_BACK '(solid, "#243e6c")'
				"Bleu foncé" WS_BACK '(solid, "#180090")'
				"Violet" WS_BACK '(solid, "#554466")'
				"Blanc crème" WS_BACK '(solid, "wheat4")'
				"Gris foncé" WS_BACK '(solid, "#333340")'
				"Bordeaux" WS_BACK '(solid, "#400020")'
			"Unifié" END
			"Degradé" MENU
				"Drapeau" WS_BACK '(mdgradient, green, red, white, green)'
				"Ciel" WS_BACK '(vgradient, blue4, white)'
			"Degradé" END
			"Images" OPEN_MENU BACKGROUNDS_DIR ~/GNUstep/Library/WindowMaker/Backgrounds WITH wmsetbg -u -t
		"Fond d'écran" END
		"Sauver le thème" EXEC getstyle -t ~/GNUstep/Library/WindowMaker/Themes/"%a(Nom du theme)"
		"Sauver le jeu d'icônes" EXEC geticonset ~/GNUstep/Library/WindowMaker/IconSets/"%a(Nom du jeu d'icones)"
	"Apparence" END

	"Quitter" MENU
		"Redémarrer" RESTART
		"Démarrer AfterStep" RESTART afterstep
		"Quitter..." EXIT
		"Terminer la session" SHUTDOWN
	"Quitter" END
"Applications" END
